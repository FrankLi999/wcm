<div id="template" class="page-layout carded left-sidebar inner-scroll">
    <!-- SIDEBAR -->
    <fuse-sidebar fxFlex="20" class="sidebar" name="page-template-side-bar" position="left" lockedOpen="gt-md">
        <div fxLayout="column" fxLayoutAlign="start"  fxFlex="1 0 auto">
            <mat-tree #siteNavigator [dataSource]="dataSource" [treeControl]="treeControl">
                <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding [matTreeNodePaddingIndent]="10">
                    <button mat-icon-button
                        [attr.aria-label]="'toggle ' + node.filename"  
                        (click)="loadChildren(node)"                                      
                        matTreeNodeToggle>
                    <mat-icon class="mat-icon-rtl-mirror">
                        {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                    </mat-icon>
                    <mat-icon class="mat-icon-rtl-mirror">
                        {{node.active ? 'folder_open' : 'folder'}}
                    </mat-icon>
                    <span style="margin-left: 8px;" [matMenuTriggerFor]="contextMenu"
                            [matMenuTriggerData]="{item: node.id}">
                        {{node.name}}
                    </span>
                    </button>
                    
                </mat-tree-node>
            </mat-tree>
        </div>
    </fuse-sidebar>
    <!-- / SIDEBAR -->
    <!-- CENTER -->
    <div class="center" fxFlex="80">
        <!-- FOLDER OVERVIEW -->       
        <router-outlet></router-outlet>
        <!-- / FOLDER OVERVIEW -->
    </div>
    <!-- / CENTER -->
    <mat-menu #contextMenu="matMenu">
        <ng-template matMenuContent let-item="item">
            <button mat-menu-item *ngFor="let operation of currentNodeOperations" (click)="doNodeOperation(item, operation)"><mat-icon>{{operation.defaultIcon}}</mat-icon><span>{{operation.defaultTitle}}</span></button>
        </ng-template>
    </mat-menu>
</div>
      