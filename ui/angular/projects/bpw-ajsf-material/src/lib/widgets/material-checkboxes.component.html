<div>
  <mat-checkbox
    type="checkbox"
    [checked]="allChecked"
    [color]="options?.color || 'primary'"
    [disabled]="disabled"
    [indeterminate]="someChecked"
    [name]="options?.name"
    (blur)="onBlur($event)"
    (change)="updateAllValues($event)"
  >
    <span class="checkbox-name" [innerHTML]="options?.name"></span>
  </mat-checkbox>
  <label
    *ngIf="options?.title"
    class="title"
    [class]="options?.labelHtmlClass || ''"
    [style.display]="options?.notitle ? 'none' : ''"
    [innerHTML]="options?.title"
  ></label>
  <ul class="checkbox-list" [class.horizontal-list]="horizontalList">
    <li
      *ngFor="let checkboxItem of checkboxList"
      [class]="options?.htmlClass || ''"
    >
      <mat-checkbox
        type="checkbox"
        [(ngModel)]="checkboxItem.checked"
        [color]="options?.color || 'primary'"
        [disabled]="disabled"
        [name]="checkboxItem?.name"
        (blur)="options.showErrors = true"
        (change)="updateValue()"
      >
        <span class="checkbox-name" [innerHTML]="checkboxItem?.name"></span>
      </mat-checkbox>
    </li>
  </ul>
  <mat-error
    *ngIf="options?.showErrors && options?.errorMessage"
    [innerHTML]="options?.errorMessage"
  ></mat-error>
</div>
